<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <title>Golf Swing Analyzer</title>

<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

<link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}" type="image/x-icon">

</head>

<body>
  <!-- Futuristic background -->
  <div class="background-blur"></div>
    

  <div class="main-content">
    <h1>Do You Swing Like a Pro?</h1>
    
    <!-- Hero Section -->
    <p>Using AI and motion detection, we analyze your golf swing and compare it to the pros. Upload your swing and see how you stack up!</p>

    <!-- Pro Example Section -->
    <div class="video-form-section">
    <section class="pro-demo fade-in-bottom">
      <video autoplay muted loop class="demo-video">
        <source src="{{ url_for('static', filename='pro_marked_swing.mp4') }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <p>Rory McIlroy â€” Professional Golfer</p>
    </section>

    <!-- Upload Form Section -->
    <section class="upload-form fade-in-top">
      <div class="container">
        <form id="uploadForm" method="POST" enctype="multipart/form-data">
          <h4>Upload Swing</h4>
          <p>For best results, use a steady down-the-line view like in the example video.</p>
          <div class="center-button">
            <input type="file" id="videoInput" name="video" accept=".mp4, .mov" required hidden />
            <label for="videoInput" class="custom-file-upload">Select Video (.mp4)</label>
          </div>

          <div class="video-wrapper" hidden id="videoWrapper">
            <video class="videoUpload" id="videoPreview" autoplay muted loop></video>
          </div>

          <p hidden id="trimMessage">Trim is currently unavailable, please upload a pre-trimmed clip.</p>

          <div class="range-slider" id="sliderSection" hidden>
            <input type="range" id="startSlider" min="0" step="0.1" />
            <input type="range" id="endSlider" min="0" step="0.1" />
            <div class="slider-track" id="sliderTrack"></div>
          </div>

          <div class="time-labels" id="timeLabels" hidden>
            <span id="startLabel" hidden>Start: <span id="startTime" hidden>0</span>s</span>
            <span id="endLabel" hidden>End: <span id="endTime" hidden>0</span>s</span>
          </div>

          <input type="hidden" name="start" id="startInput" />
          <input type="hidden" name="end" id="endInput" />

          <h4 hidden id="selectVersion">Select Version</h4>
          <p hidden id="same">Both versions result in the same prediction, but the quality of the body landmark overlay is different.</p>
          <div class="model-buttons">
            <button hidden type="button" id="lite" class="model-btn" onclick="selectModel('lite')">Fast</button>
            <button hidden type="button" id="heavy" class="model-btn" onclick="selectModel('heavy')">Accurate</button>
          </div>

          <p hidden id="estimatedTime">Estimated time: ~5-10s</p>

          <input type="hidden" name="model_type" id="modelType" value="fast">
          <p id="uploadError" style="color: red; display: none;"></p>
          <input type="submit" id="uploadButton" hidden value="Upload" />
        </form>
      </div>
    </section>
    </div>

    <p>
      Developed by Michael Capriotti. Learn More About the Proccess ->
      <a href="https://github.com/mcapriotti1/Golf_Swing" target="_blank">GitHub</a>
    </p>
    <a href="https://www.flaticon.com/free-icons/golf" target="_blank" title="golf icons">Golf icon created by Smashicons - Flaticon</a>
  </div>

  <div hidden id="loadingOverlay" >
    <div class="loading-overlay">
      <div class="spinner"></div>
        <p >Analyzing your swing...</p>
      </div>
  </div>

  {% if error %}
  <div id="errorOverlay">
    <div class="error-overlay">
      <h3>{{ error }}</h3>
      <button onclick="document.getElementById('errorOverlay').style.display='none'">Close</button>
    </div>
  </div>
  {% endif %}

  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
